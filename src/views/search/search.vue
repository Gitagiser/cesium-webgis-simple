<template>
  <div class="search" @click="isOpen = !isOpen" v-if="!isOpen">
    <svg
      t="1733406701387"
      class="icon"
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="5711"
      width="24"
      height="24"
    >
      <path
        d="M639.800062 0.15995c-211.997751 0-383.880037 171.882287-383.880037 383.880038 0 64.811746 16.218932 125.816682 44.626054 179.399937l-266.924586 266.860606 0.22393 0.19194A112.444861 112.444861 0 0 0 0 910.979319a112.892721 112.892721 0 0 0 112.892721 112.892721c31.510153 0 59.949266-12.987941 80.454858-33.877413l-0.06398-0.06398 266.828616-266.796626c53.615245 28.503093 114.716151 44.786004 179.687847 44.786004 211.997751 0 383.880037-171.882287 383.880038-383.880037s-171.882287-383.880037-383.880038-383.880038zM153.392065 950.007123a55.982505 55.982505 0 0 1-40.499344 17.370571 56.430366 56.430366 0 0 1-56.462355-56.430365c0-15.931022 6.717901-30.166573 17.370571-40.499344l-0.28791-0.25592 258.031365-258.031365a387.111028 387.111028 0 0 0 79.783068 79.911028l-257.935395 257.935395zM639.800062 703.972009c-176.648797 0-319.900031-143.283224-319.900031-319.900031 0-176.648797 143.251234-319.900031 319.900031-319.900032 176.616807 0 319.900031 143.251234 319.900032 319.900032 0 176.616807-143.283224 319.900031-319.900032 319.900031z"
        fill="#bfbfbf"
        p-id="5712"
      ></path>
      <path
        d="M639.800062 160.109966a223.930022 223.930022 0 0 0-223.930021 223.930022 15.995002 15.995002 0 0 0 31.990003 0 191.940019 191.940019 0 0 1 191.940018-191.940019 15.995002 15.995002 0 0 0 0-31.990003z"
        fill="#bfbfbf"
        p-id="5713"
      ></path>
    </svg>
  </div>
  <div v-else class="searchComponents">
    <div class="flexDom">
      <el-input type="primary" v-model="searchStr" @input="" clearable></el-input>
      <svg
        t="1733408389319"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="10093"
        width="48"
        height="48"
        @click="isOpen = !isOpen"
      >
        <path
          d="M832 618.666667c-12.8 0-21.333333 8.533333-21.333333 21.333333l0 298.666667L85.333333 938.666667 85.333333 85.333333l725.333333 0 0 298.666667c0 12.8 8.533333 21.333333 21.333333 21.333333s21.333333-8.533333 21.333333-21.333333L853.333333 64c0-12.8-8.533333-21.333333-21.333333-21.333333L64 42.666667C51.2 42.666667 42.666667 51.2 42.666667 64l0 896c0 12.8 8.533333 21.333333 21.333333 21.333333l768 0c12.8 0 21.333333-8.533333 21.333333-21.333333L853.333333 640C853.333333 627.2 844.8 618.666667 832 618.666667zM960 490.666667 285.866667 490.666667l134.4-134.4c4.266667-4.266667 6.4-8.533333 6.4-14.933333 0-12.8-8.533333-21.333333-21.333333-21.333333-6.4 0-10.666667 2.133333-14.933333 6.4l-170.666667 170.666667C215.466667 501.333333 213.333333 505.6 213.333333 512c0 6.4 2.133333 10.666667 6.4 14.933333l170.666667 170.666667c4.266667 4.266667 8.533333 6.4 14.933333 6.4 12.8 0 21.333333-8.533333 21.333333-21.333333 0-6.4-2.133333-10.666667-6.4-14.933333L285.866667 533.333333 960 533.333333c12.8 0 21.333333-8.533333 21.333333-21.333333S972.8 490.666667 960 490.666667z"
          fill="#8a8a8a"
          p-id="10094"
        ></path>
      </svg>
    </div>
    
    <div class="componentsDiv">
      <div v-for="(item, index) in productArray" @click="clickItem(index)">
        <img :src="item.icon" alt="" />
        <div>{{ item.name }}</div>
      </div>
    </div>
  </div>
</template>
<script setup lang="ts">
import { ref, reactive } from "vue";
import { ElMessage } from "element-plus";
let isOpen = ref<boolean>(false);
let searchStr = ref<string>("");

interface Product {
  id: number;
  icon: string;
  name: string;
}

let productArray: Product[];
productArray = [
  { id: 1, icon: "../", name: "Product A" },
  { id: 2, icon: "...", name: "Product B" },
];

function clickItem(index: number): void {
  ElMessage(`This is a message.in== ${index}`);
}
</script>
<style lang="less" scoped>
.search {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 100px;
  height: 100px;
  cursor: pointer;
}
.searchComponents {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 10%;
  height: auto;
  .flexDom{
    display: flex;
  }

  .componentsDiv {
    width: 100%;
    padding: 5px;
    height: auto;
    color: bisque;
  }
}
</style>
